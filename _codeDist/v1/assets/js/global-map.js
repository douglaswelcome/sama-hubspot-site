buildOfficeList(offices),mapboxgl.accessToken="pk.eyJ1IjoiYWVzaW1wc29uIiwiYSI6ImNrcm1vdGM3eDd2ZTMycHBheTEwajhqcjMifQ.nHuWTNRfeQ83cdMK2qJnpw";var map=new mapboxgl.Map({container:"map",style:"mapbox://styles/aesimpson/ckrmovdwb2j2r17lqxf2p2lw5",center:[-33.654541,35.323946],zoom:1});function flyToOffice(e){map.flyTo({center:e.geometry.coordinates,zoom:11.5})}function flyToDefault(){map.flyTo({center:[-24.547817,36.980944],zoom:1});var e=document.getElementsByClassName("mapboxgl-popup");e[0]&&e[0].remove()}function buildOfficeList(e){for(i=0;i<e.features.length;i++)e.features[i].properties}map.addControl(new mapboxgl.NavigationControl({showCompass:!1})),map.on("load",(function(e){map.addSource("places",{type:"geojson",data:offices})})),offices.features.forEach((function(e,o){var t=document.createElement("div");if(t.className="bodymove_map_marker",t.id="marker-"+o,e.properties.city){const o="bodymove_map_marker_label "+(e.properties.labelPosition?e.properties.labelPosition:"");t.innerHTML="<p class='"+o+"'>"+e.properties.city+"</p>"}new mapboxgl.Marker(t,{}).setLngLat(e.geometry.coordinates).addTo(map),t.addEventListener("click",(function(o){flyToOffice(e)}))})),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),map.on("click",(function(e){var o=map.queryRenderedFeatures(e.point,{layers:["locations"]});if(o.length)for(var t=o[0].properties.address,a=0;a<stores.features.length;a++)stores.features[a].properties.address===t&&(selectedFeatureIndex=a)})),window.onload=function(){document.getElementById("globe").onclick=function(){flyToDefault()}};